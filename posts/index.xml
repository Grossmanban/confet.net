<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts on Terminal</title>
    <link>/posts/</link>
    <description>Recent content in Posts on Terminal</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en</language>
    <lastBuildDate>Wed, 16 Oct 2024 14:18:27 +0300</lastBuildDate><atom:link href="/posts/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>42 команды Linux которые вы должны знать</title>
      <link>/posts/42_must_have_commands_linux/</link>
      <pubDate>Wed, 16 Oct 2024 14:18:27 +0300</pubDate>
      
      <guid>/posts/42_must_have_commands_linux/</guid>
      <description>&lt;p&gt;о всех операционных системах, в том числе и в Linux, термин &amp;lsquo;команда&amp;rsquo; означает либо утилиту командной строки, либо определённую возможность, встроенную в командную оболочку системы. Тем не менее, для самих пользователей это различие не имеет особого значения. В конце концов, и те и другие команды терминала Linux вызываются одинаково. Вы вводите слово в вашем эмуляторе терминала и получаете результат выполнения команды.&lt;/p&gt;
&lt;p&gt;Я уже писал о командах терминала Linux, но тогда затронул лишь несколько самых интересных, самых полезных команд, рассчитывая на то, что пользователь уже достаточно знаком с возможностями терминала. Но нужно сделать ещё одну статью, рассчитанную на новичков, тех, кто только делает свои первые шаги в освоении Linux.&lt;/p&gt;</description>
      <content>&lt;p&gt;о всех операционных системах, в том числе и в Linux, термин &amp;lsquo;команда&amp;rsquo; означает либо утилиту командной строки, либо определённую возможность, встроенную в командную оболочку системы. Тем не менее, для самих пользователей это различие не имеет особого значения. В конце концов, и те и другие команды терминала Linux вызываются одинаково. Вы вводите слово в вашем эмуляторе терминала и получаете результат выполнения команды.&lt;/p&gt;
&lt;p&gt;Я уже писал о командах терминала Linux, но тогда затронул лишь несколько самых интересных, самых полезных команд, рассчитывая на то, что пользователь уже достаточно знаком с возможностями терминала. Но нужно сделать ещё одну статью, рассчитанную на новичков, тех, кто только делает свои первые шаги в освоении Linux.&lt;/p&gt;
&lt;p&gt;И вот она. Её цель - собрать основные простые и сложные команды Linux, которые должен знать каждый пользователь, чтобы наиболее эффективно управлять своей системой. Для удобности запоминания опций команд я в скобках добавил слова, от которых они произошли - так намного проще, на себе проверено.&lt;/p&gt;
&lt;p&gt;Это не значит, что я перечислю все команды, все перечислены тут - я постараюсь охватить всё самое полезное, то, что может пригодиться в повседневной жизни. Чтобы было удобнее читать, разделим этот список на категории команд по назначению. Большинство рассмотренных здесь утилит не требуют дополнительной установки, они будут предустановлены в любом дистрибутиве Linux, а если не будут, то их несложно найти в официальных репозиториях.&lt;/p&gt;
&lt;h2 id=&#34;команды-linux-для-управления-файлами&#34;&gt;Команды Linux для управления файлами&lt;/h2&gt;
&lt;h3 id=&#34;1-ls&#34;&gt;1. ls&lt;/h3&gt;
&lt;p&gt;Утилита для просмотра содержимого каталогов. По умолчанию показывает текущий каталог. Если в параметрах указать путь, то она перечислит содержимое конечного каталога. Полезные опции -l (List) и -a (All). Первая форматирует вывод в виде списка с более подробной информацией, а вторая включает показ скрытых файлов.&lt;/p&gt;
&lt;h3 id=&#34;2-cat&#34;&gt;2. cat&lt;/h3&gt;
&lt;p&gt;Печатает содержимое файла, переданного в параметре, в стандартный вывод. Если передать несколько файлов, команда склеит их. Также можно перенаправить вывод в ещё один файл с помощью символа &amp;lsquo;&amp;gt;&amp;rsquo;. Если нужно вывести только определенное количество строк, используйте опцию -n (Number).&lt;/p&gt;
&lt;h3 id=&#34;3-cd&#34;&gt;3. cd&lt;/h3&gt;
&lt;p&gt;Позволяет перейти из текущего каталога в указанный. Если запустить без параметров - возвращает в домашний каталог. Вызов с двумя точками возвращает на уровень вверх относительно текущего каталога. Вызов с тире (cd -) возвращает к предыдущему каталогу.&lt;/p&gt;
&lt;h3 id=&#34;4-pwd&#34;&gt;4. pwd&lt;/h3&gt;
&lt;p&gt;Печатает на экран текущий каталог. Это может быть полезно, если ваша командная строка Linux не выводит такую информацию. Эта команда будет востребована в Bash программировании, где для получения ссылки на каталог выполняется скрипт.&lt;/p&gt;
&lt;h3 id=&#34;5-mkdir&#34;&gt;5. mkdir&lt;/h3&gt;
&lt;p&gt;Создание новых каталогов. Наиболее удобная опция -p (Parents), позволяет создать всю структуру подкаталогов одной командой, даже если они ещё не существуют.&lt;/p&gt;
&lt;h3 id=&#34;6-file&#34;&gt;6. file&lt;/h3&gt;
&lt;p&gt;Команда file показывает тип файла. В Linux файлы не обязаны всегда иметь расширения для того, чтобы с ними работать. Поэтому пользователю иногда трудно определить, что за файл перед ним. Эта маленькая утилита решает проблему.&lt;/p&gt;
&lt;h3 id=&#34;7-cp&#34;&gt;7. cp&lt;/h3&gt;
&lt;p&gt;Копирование файлов и каталогов. Она не копирует каталоги по умолчанию рекурсивно (то есть все поддиректории и все файлы в поддиректориях), поэтому не забудьте добавить опцию -r (Recursive) или -a (Archive). Последняя включает режим сохранения атрибутов, владельца и временного штампа в дополнение к рекурсивному копированию.&lt;/p&gt;
&lt;h3 id=&#34;8-mv&#34;&gt;8. mv&lt;/h3&gt;
&lt;p&gt;Перемещение или переименование файлов и каталогов. Примечательно, что в Linux это одна и та же операция. Переименование - это перемещение файла в ту же папку с другим именем.&lt;/p&gt;
&lt;h3 id=&#34;9-rm&#34;&gt;9. rm&lt;/h3&gt;
&lt;p&gt;Удаляет файлы и папки. Очень полезная команда Linux: с её помощью вы можете убрать весь беспорядок. Если нужно рекурсивное удаление, используйте опцию -r. Однако будьте осторожны: конечно, для того чтобы повредить систему вам нужно будет серьёзно постараться, однако можно удалить собственные важные файлы. Rm удаляет файлы не в корзину, из которой потом всё можно будет восстановить, а полностью стирает. Действия оператора rm необратимы. Поверьте, ваши оправдания в духе &amp;ldquo;rm съела мою курсовую&amp;rdquo; никому не будут интересны.&lt;/p&gt;
&lt;h3 id=&#34;10-ln&#34;&gt;10. ln&lt;/h3&gt;
&lt;p&gt;Создает жёсткие или символические ссылки на файлы. Символические или программные ссылки - это что-то похожее на ярлыки в Windows. Они предоставляют удобный способ доступа к определённому файлу. Символические ссылки указывают на файл, но не имеют никаких метаданных. Жёсткие ссылки, в отличие от символических, указывают на физический адрес области диска, где хранятся данные файла.&lt;/p&gt;
&lt;h3 id=&#34;11-chmod&#34;&gt;11. chmod&lt;/h3&gt;
&lt;p&gt;Изменяет права доступа к файлу. Это чтение, запись и выполнение. Каждый пользователь может изменять права для своих файлов.&lt;/p&gt;
&lt;h3 id=&#34;12-chown&#34;&gt;12. chown&lt;/h3&gt;
&lt;p&gt;Изменяет владельца файла. Только суперпользователь может изменять владельцев. Для рекурсивного изменения используйте опцию -R.&lt;/p&gt;
&lt;h3 id=&#34;13-find&#34;&gt;13. find&lt;/h3&gt;
&lt;p&gt;Поиск в файловой системе, файлах и папках. Это очень гибкая и мощная команда Linux не только из-за своих способностей ищейки, но и благодаря возможности выполнять произвольные команды для найденных файлов.&lt;/p&gt;
&lt;h3 id=&#34;14-locate&#34;&gt;14. locate&lt;/h3&gt;
&lt;p&gt;В отличие от find, команда locate ведёт поиск в базе данных updatedb для шаблонов имён файлов. Эта база данных содержит снимок файловой системы, что позволяет искать очень быстро. Но этот поиск ненадёжен, потому что вы не можете быть уверены, что ничего не изменилось с момента последнего снимка.&lt;/p&gt;
&lt;h3 id=&#34;15-du&#34;&gt;15. du&lt;/h3&gt;
&lt;p&gt;Показывает размер файла или каталога. Самые полезные опций: -h (Human), которая преобразует размеры файлов в легко читаемый формат, -s (Summarize), которая выводит минимум данных, и -d (Depth), устанавливающая глубину рекурсии по каталогам.&lt;/p&gt;
&lt;h3 id=&#34;16-df&#34;&gt;16. df&lt;/h3&gt;
&lt;p&gt;Анализатор дискового пространства. По умолчанию вывод достаточно подробный: перечислены все файловые системы, их размер, количество использованного и свободного пространства. Для удобства есть опция -h, делающая размеры легко читаемыми.&lt;/p&gt;
&lt;h3 id=&#34;17-dd&#34;&gt;17. dd&lt;/h3&gt;
&lt;p&gt;Как сказано в официальном руководстве, это команда терминала для копирования и преобразования файлов. Не очень понятное описание, но это всё, что делает dd. Вы передаёте ей файл-источник, пункт назначения и пару дополнительных опций. Затем она делает копию одного файла в другой. Вы можете задать точный размер данных, которые нужно записать или скопировать. Работает утилита со всеми устройствами. Например, если вы хотите перезаписать жёсткий диск нулями из /dev/zero, можете сделать это. Также она часто используется для создания LiveUSB или гибридных ISO образов.&lt;/p&gt;
&lt;h3 id=&#34;18-mount--umount&#34;&gt;18 mount / umount&lt;/h3&gt;
&lt;p&gt;Это команды консоли Linux для подключения и отключения файловых систем Linux. Можно подключать всё: от USB накопителей, до ISO образов. И только у суперпользователя есть права для этого.&lt;/p&gt;
&lt;h2 id=&#34;linux-команды-консоли-для-работы-с-текстом&#34;&gt;Linux команды консоли для работы с текстом&lt;/h2&gt;
&lt;h3 id=&#34;19-more--less&#34;&gt;19. more / less&lt;/h3&gt;
&lt;p&gt;Это две простенькие команды терминала для просмотра длинных текстов, которые не вмещаются на одном экране. Представьте себе очень длинный вывод команды. Или вы вызвали cat для просмотра файла, и вашему эмулятору терминала потребовалось несколько секунд, чтобы прокрутить весь текст. Если ваш терминал не поддерживает прокрутки, вы можете сделать это с помощью less. Less новее, чем more и поддерживает больше опций, поэтому использовать more нет причин.&lt;/p&gt;
&lt;h3 id=&#34;20-head--tail&#34;&gt;20. head / tail&lt;/h3&gt;
&lt;p&gt;Ещё одна пара, но здесь у каждой команды своя область применения. Утилита head выводит несколько первых строк из файла (голова), а tail выдает несколько последних строк (хвост). По умолчанию каждая утилита выводит десять строк. Но это можно изменить с помощью опции -n. Ещё один полезный параметр -f, это сокращение от follow (следовать). Утилита постоянно выводит изменения в файле на экран. Например, если вы хотите следить за лог файлом, вместо того, чтобы постоянно открывать и закрывать его, используйте команду tail -nf.&lt;/p&gt;
&lt;h3 id=&#34;21-grep&#34;&gt;21. grep&lt;/h3&gt;
&lt;p&gt;Grep, как и другие инструменты Linux, делает одно действие, но делает его хорошо: она ищет текст по шаблону. По умолчанию она принимает стандартный ввод, но вы можете искать в файлах. Шаблон может быть строкой или регулярным выражением. Она может вывести как совпадающие, так и не совпадающие строки и их контекст. Каждый раз, когда вы выполняете команду, которая выдает очень много информации, не нужно анализировать всё вручную - пусть grep делает свою магию.&lt;/p&gt;
&lt;h3 id=&#34;22-sort&#34;&gt;22. sort&lt;/h3&gt;
&lt;p&gt;Сортировка строк текста по различным критериям. Наиболее полезные опции: -n (Numeric), по числовому значению, и -r (Reverse), которая переворачивает вывод. Это может быть полезно для сортировки вывода du. Например, если хотите отсортировать файлы по размеру, просто соедините эти команды.&lt;/p&gt;
&lt;h3 id=&#34;23-wc&#34;&gt;23. wc&lt;/h3&gt;
&lt;p&gt;Утилита командной строки Linux для подсчёта количества слов, строк, байт и символов.&lt;/p&gt;
&lt;h3 id=&#34;24-diff&#34;&gt;24. diff&lt;/h3&gt;
&lt;p&gt;Показывает различия между двумя файлами в построчном сравнении. Причём выводятся только строки, в которых обнаружены отличия. Измененные строки отмечаются символом &amp;ldquo;с&amp;rdquo;, удаленные - &amp;ldquo;d&amp;rdquo;, а новые - &amp;ldquo;а&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Кстати, я подготовил ещё одну подробную статью, в которой описан именно просмотр содержимого текстового файла в Linux c помощью терминала.&lt;/p&gt;
&lt;h2 id=&#34;команды-linux-для-управления-процессами&#34;&gt;Команды Linux для управления процессами&lt;/h2&gt;
&lt;h3 id=&#34;25-kill--xkill--pkill--killall&#34;&gt;25. kill / xkill / pkill / killall&lt;/h3&gt;
&lt;p&gt;Служат для завершения процессов. Но они принимают различные параметры для идентификации процессов. Kill нужен PID процесса, xkill - достаточно кликнуть по окну, чтобы закрыть его, killall и pkill принимают имя процесса. Используйте ту, которая удобна в определенной ситуации.&lt;/p&gt;
&lt;h3 id=&#34;26-ps--pgrep&#34;&gt;26. ps / pgrep&lt;/h3&gt;
&lt;p&gt;Как уже говорилось, чтобы уничтожить процесс, нужен его идентификатор. Один из способов получить его, это утилита ps, которая печатает информацию о запущенных процессах. По умолчанию вывод очень длинный, поэтому используйте опцию -e, чтобы увидеть информацию об определённом процессе. Это только снимок состояния на момент вызова, и информация не будет обновляться. Команда ps с ключом aux выводит полную информацию о процессах. Pgrep работает следующим образом: вы задаете имя процесса, а утилита показывает его идентификатор.&lt;/p&gt;
&lt;h3 id=&#34;27-top--htop&#34;&gt;27. top / htop&lt;/h3&gt;
&lt;p&gt;Обе команды похожи, обе отображают процессы и могут быть использованы как консольные системные мониторы. Я рекомендую установить htop, если в вашем дистрибутиве он не поставляется по умолчанию, так как это улучшенная версия top. Вы сможете не только просматривать, но и контролировать процессы через его интерактивный интерфейс.&lt;/p&gt;
&lt;h3 id=&#34;28-time&#34;&gt;28. time&lt;/h3&gt;
&lt;p&gt;Время выполнения процесса. Это секундомер для выполнения программы. Полезно, если вам интересно, насколько сильно ваша реализация алгоритма отстает от стандартной. Но, несмотря на такое название, она не сообщит вам текущее время, используйте для этого команду date.&lt;/p&gt;
&lt;h2 id=&#34;команды-linux-окружения-пользователя&#34;&gt;Команды Linux окружения пользователя&lt;/h2&gt;
&lt;h3 id=&#34;29-su--sudo&#34;&gt;29. su / sudo&lt;/h3&gt;
&lt;p&gt;Su и sudo - это два способа выполнить одну и ту же задачу: запустить программу от имени другого пользователя. В зависимости от вашего дистрибутива вы, наверное, используете одну или другую. Но работают обе. Разница в том, что su переключает вас на другого пользователя, а sudo только выполняет команду от его имени. Поэтому использование sudo будет наиболее безопасным вариантом работы. Я писал про права суперпользователя в этой статье.&lt;/p&gt;
&lt;h3 id=&#34;30-date&#34;&gt;30. date&lt;/h3&gt;
&lt;p&gt;В отличие от time, делает именно то, чего вы от неё и ожидаете: выводит дату и время в стандартный вывод. Его можно форматировать в зависимости от ваших потребностей: вывести год, месяц, день, установить 12-ти или 24-ти часовой формат, получить наносекунды или номер недели. Например, date +&amp;quot;%j %V&amp;quot;, выведет день в году и номер недели в формате ISO.&lt;/p&gt;
&lt;h3 id=&#34;31-alias&#34;&gt;31. alias&lt;/h3&gt;
&lt;p&gt;Команда создаёт синонимы для других команд Linux. То есть вы можете делать новые команды или группы команд, а также переименовывать существующие. Это очень удобно для сокращения длинных команд, которые вы часто используете, или создания более понятных имен для команд, которые вы используете нечасто и не можете запомнить. Здесь собрано несколько полезных алиасов.&lt;/p&gt;
&lt;h3 id=&#34;32-uname&#34;&gt;32. uname&lt;/h3&gt;
&lt;p&gt;Выводит некую основную информацию о системе. Без параметров она не покажет ничего полезного, кроме строчки Linux, но, если задать параметр -a (All), можно получить информацию о ядре, имени хоста и узнать архитектуру процессора.&lt;/p&gt;
&lt;h3 id=&#34;33-uptime&#34;&gt;33. uptime&lt;/h3&gt;
&lt;p&gt;Сообщает вам время работы системы. Не очень существенная информация, но может быть полезна для случайных вычислений или просто ради интереса, чтобы узнать, как давно был перезагружен сервер.&lt;/p&gt;
&lt;h3 id=&#34;34-sleep&#34;&gt;34. sleep&lt;/h3&gt;
&lt;p&gt;Вам, наверное, интересно как же её можно использовать. Даже не учитывая Bash-скриптинг, у неё есть свои преимущества. Например, если вы хотите выключить компьютер через определенный промежуток времени или использовать в качестве импровизированной тревоги.&lt;/p&gt;
&lt;h2 id=&#34;команды-linux-для-управления-пользователями&#34;&gt;Команды Linux для управления пользователями&lt;/h2&gt;
&lt;h3 id=&#34;35-useradd--userdel--usermod&#34;&gt;35. useradd / userdel / usermod&lt;/h3&gt;
&lt;p&gt;Эти команды консоли Linux позволяют вам добавлять, удалять и изменять учетные записи пользователей. Скорее всего, вы не будете использовать их очень часто. Особенно если это домашний компьютер, и вы являетесь единственным пользователем. Управлять пользователями можно и с помощью графического интерфейса, но лучше знать об этих командах на всякий случай.&lt;/p&gt;
&lt;h3 id=&#34;36-passwd&#34;&gt;36. passwd&lt;/h3&gt;
&lt;p&gt;Эта команда позволяет изменить пароль учетной записи пользователя. Как суперпользователь вы можете сбросить пароли всех пользователей, даже несмотря на то, что не можете их увидеть. Хорошая практика безопасности - менять пароль почаще.&lt;/p&gt;
&lt;h2 id=&#34;linux-команды-для-просмотра-документации&#34;&gt;Linux команды для просмотра документации&lt;/h2&gt;
&lt;h3 id=&#34;37-man--whatis&#34;&gt;37. man / whatis&lt;/h3&gt;
&lt;p&gt;Команда man открывает руководство по определённой команде. Для всех основных команд Linux есть man страницы. Whatis показывает, какие разделы руководств есть для данной команды.&lt;/p&gt;
&lt;h3 id=&#34;38-whereis&#34;&gt;38. whereis&lt;/h3&gt;
&lt;p&gt;Показывает полный путь к исполняемому файлу программы. Также может показать путь к исходникам, если они есть в системе.&lt;/p&gt;
&lt;h2 id=&#34;команды-linux-для-управления-сетью&#34;&gt;Команды Linux для управления сетью&lt;/h2&gt;
&lt;h3 id=&#34;39-ip&#34;&gt;39. ip&lt;/h3&gt;
&lt;p&gt;Если список команд Linux для управления сетью вам кажется слишком коротким, скорее всего вы не знакомы с утилитой ip. В пакете net-tools содержится множество других утилит: ipconfig, netstat и прочие устаревшие, вроде iproute2. Всё это заменяет одна утилита - ip. Вы можете рассматривать её как швейцарский армейский нож для работы с сетью или как непонятную массу, но в любом случае за ней будущее. Просто смиритесь с этим.&lt;/p&gt;
&lt;h3 id=&#34;40-ping&#34;&gt;40. ping&lt;/h3&gt;
&lt;p&gt;Ping - это ICMP ECHO_REQUEST дейтаграммы, но на самом деле это неважно. Важно то, что утилита ping может быть очень полезным диагностическим инструментом. Она поможет быстро проверить, подключены ли вы к маршрутизатору или к интернету, и дает кое-какое представление о качестве этой связи.&lt;/p&gt;
&lt;h3 id=&#34;41-nethogs&#34;&gt;41. nethogs&lt;/h3&gt;
&lt;p&gt;Если у вас медленный интернет, то вам, наверное, было бы интересно знать, сколько трафика использует какая-либо программа в Linux или какая программа потребляет всю скорость. Теперь это можно сделать с помощью утилиты nethogs. Для того чтобы задать сетевой интерфейс используйте опцию -i.&lt;/p&gt;
&lt;h3 id=&#34;42-traceroute&#34;&gt;42. traceroute&lt;/h3&gt;
&lt;p&gt;Это усовершенствованная версия ping. Мы можем увидеть не только полный маршрут сетевых пакетов, но и доступность узла, а также время доставки этих пакетов на каждый из узлов.&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Установка сертификатов в Ubuntu</title>
      <link>/posts/installing_certificates_ubuntu/</link>
      <pubDate>Wed, 16 Oct 2024 14:15:07 +0300</pubDate>
      
      <guid>/posts/installing_certificates_ubuntu/</guid>
      <description>&lt;p&gt;Сертификаты SSL используются для обеспечения безопасности в различных сферах. Самая распространенная - это просмотр веб-сайтов по протоколу HTTPS. Существует небольшое количество доверенных корневых сертификатов организаций, которые подписывают остальные сертификаты для всех сайтов. Эти доверенные сертификаты хранятся на каждом компьютере или смартфоне. И именно исходя из этого веб-браузер может понимать, что тому или иному сайту можно доверять.&lt;/p&gt;
&lt;p&gt;Но если вы попытаетесь создать свой корневой сертификат и подписать им сертификат для своего сайта, то увидите в браузере сообщение о том, что подключение не безопасно потому что используется сертификат, которого нет в списке доверенных. Аналогично будут работать и другие программы. Но вы можете добавить свой сертификат в список доверенных в своей системе. В этой статье мы рассмотрим как установить сертификат в Ubuntu.&lt;/p&gt;</description>
      <content>&lt;p&gt;Сертификаты SSL используются для обеспечения безопасности в различных сферах. Самая распространенная - это просмотр веб-сайтов по протоколу HTTPS. Существует небольшое количество доверенных корневых сертификатов организаций, которые подписывают остальные сертификаты для всех сайтов. Эти доверенные сертификаты хранятся на каждом компьютере или смартфоне. И именно исходя из этого веб-браузер может понимать, что тому или иному сайту можно доверять.&lt;/p&gt;
&lt;p&gt;Но если вы попытаетесь создать свой корневой сертификат и подписать им сертификат для своего сайта, то увидите в браузере сообщение о том, что подключение не безопасно потому что используется сертификат, которого нет в списке доверенных. Аналогично будут работать и другие программы. Но вы можете добавить свой сертификат в список доверенных в своей системе. В этой статье мы рассмотрим как установить сертификат в Ubuntu.&lt;/p&gt;
&lt;p&gt;Содержание статьи&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Что нам понадобится?&lt;/li&gt;
&lt;li&gt;Установка сертификатов в Ubuntu
&lt;ul&gt;
&lt;li&gt;
&lt;ol&gt;
&lt;li&gt;Установка в системе&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Установка в Google Chrome&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;Установка в Firefox&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Выводы&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;что-нам-понадобится&#34;&gt;Что нам понадобится?&lt;/h2&gt;
&lt;p&gt;Я хочу показать на примере как сделать сертификат доверенным в Ubuntu. Для этого можно создать свой центр сертификации CA с помощью EasyRSA, создать и подписать SSL сертификат, как это описано в статье про создание сертификатов OpenSSL. Далее использовать этот сертификат для домена localhost в Apache. Таким образом у вас получится три файла:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ca.crt - корневой сертификат центра сертификации;&lt;/li&gt;
&lt;li&gt;localhost.crt - сертификат сайта подписанный центром сертификации;&lt;/li&gt;
&lt;li&gt;localhost.key - ключ сертификата сайта.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Активируйте файл виртуального хоста Apache для сайта по умолчанию с помощью такой команды:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo a2ensite default-ssl
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Далее откройте этот файл и найдите такие строки:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;SSLCertificateFile /etc/ssl/certs/ssl-cert-snakeoil.pemSSLCertificateKeyFile /etc/ssl/private/ssl-cert-snakeoil.key
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Для параметра SSLCertificateFile надо передать путь к сертификату сайта, например, localhost.crt, а для SSLCertificateKeyFile - ключу сертификата сайта. Например, localhost.key. Если сертификаты находятся в папке /etc/apache/ssl, то конфигуация будет выглядеть вот так:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;SSLCertificateFile /etc/apache/ssl/localhost.crtSSLCertificateKeyFile /etc/apache/ssl/localhost.key
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;После этого нужно перезапустить Apache:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo systemctl restart apache2
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Теперь у вас всё готово для того чтобы выполнить всё описанное ниже в своей системе.&lt;/p&gt;
&lt;h2 id=&#34;установка-сертификатов-в-ubuntu&#34;&gt;Установка сертификатов в Ubuntu&lt;/h2&gt;
&lt;h3 id=&#34;1-установка-в-системе&#34;&gt;1. Установка в системе&lt;/h3&gt;
&lt;p&gt;Если вы попытаетесь использовать подписанные вами сертификаты для включения поддержки HTTPS на веб-сервере, а потом откроете такой веб-сайт с помощью браузера или сделаете к нему запрос в командной строке, то получите ошибку SSL, в которой будет сказано, что этот сертификат не является доверенным и подключение к этому сайту может быть не безопасно.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;curl -I https://localhost
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Для того чтобы сертификат считался доверенным в системе нужно добавить корневой сертификат центра сертификации, с помощью которого он был подписан в список доверенных. Если это самоподписанный сертификат, то в список доверенных можно добавлять его самого.&lt;/p&gt;
&lt;p&gt;И так, у вас есть сертификат ca.crt. Для того чтобы система считала его доверенным, нужно скопировать его в папку /usr/local/share/ca-certificates:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;cp ./ca.crt /usr/local/share/ca-certificates/losstca.crt
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;После этого необходимо выполнить такую команду:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo update-ca-certificates
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;После этого можно проверить что система воспринимает сертификат как доверенный выполнив команду curl:&lt;/p&gt;
&lt;p&gt;Но этот способ будет работать только для тех программ, которые используют системное хранилище доверенных сертификатов. Веб-браузеры, такие как Firefox и Google Chrome имеют собственные хранилища сертификатов и не используют хранилище системы, поэтому в каждом браузере нужно импортировать сертификаты отдельно. Иначе вы будете получать такую ошибку:&lt;/p&gt;
&lt;p&gt;Chrome, Firefox, Thunderbird используют nssdb для работы с сертификатами. Это значит что вы можете импортировать сертификаты как в графическом интерфейсе браузера, так и в терминале, с помощью утилиты certutil. Давайте рассмотрим как это сделать. Давайте рассмотрим как выполняется установка сертификата в Ubuntu.&lt;/p&gt;
&lt;h3 id=&#34;2-установка-в-google-chrome&#34;&gt;2. Установка в Google Chrome&lt;/h3&gt;
&lt;p&gt;Для того чтобы добавить сертификат в Google Chrome или Chromium в графическом интерфейсе откройте настройки из главного меню:&lt;/p&gt;
&lt;p&gt;Перейдите в Конфиденциальность и безопасность -&amp;gt; Безопасность -&amp;gt; Настроить сертификаты:&lt;/p&gt;
&lt;p&gt;В открывшемся окне перейдите на вкладку Центры сертификации:&lt;/p&gt;
&lt;p&gt;Здесь необходимо нажать кнопку Импорт и выбрать файл корневого сертификата:&lt;/p&gt;
&lt;p&gt;Далее надо настроить параметры доверия. Поскольку сейчас сертификат будет использоваться для подтверждения подлинности сайтов, то можно оставить только первый пункт:&lt;/p&gt;
&lt;p&gt;После этого сертификат будет добавлен и вы больше не будете видеть информацию о том, что подключение не безопасное.&lt;/p&gt;
&lt;p&gt;В командной строке всё тоже довольно просто. Для работы с сертификатами вам понадобится пакет libnss3-tools, установите его с помощью команды:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo apt install libnss3-tools
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;База данных сертификатов Google Chrome находится в папке ~/.pki/nssdb. Вы можете посмотреть доступные сертификаты командой:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;certutil -d ~/.pki/nssdb -L
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Синтаксис команды для добавления сертификата следующий:&lt;/p&gt;
&lt;p&gt;$ certutil -d путь/к/базе/данных -A -t &amp;ldquo;настройки_доверия&amp;rdquo; -n &amp;ldquo;имя&amp;rdquo; -i &amp;ldquo;/путь/к/файлу&amp;rdquo;&lt;/p&gt;
&lt;p&gt;Обратите внимание на настройки доверия. Существует три группы атрибутов доверия:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Для SSL;&lt;/li&gt;
&lt;li&gt;Для Email;&lt;/li&gt;
&lt;li&gt;Для программного обеспечения и других объектов.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Каждая из групп может содержать такие атрибуты:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;p - валидный пир;&lt;/li&gt;
&lt;li&gt;P - доверенный пир;&lt;/li&gt;
&lt;li&gt;c - валидный центр сертификации;&lt;/li&gt;
&lt;li&gt;C - доверенный центр сертификации;&lt;/li&gt;
&lt;li&gt;T - доверенный центр сертификации для авторизации клиентов.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Для SSL сертификатов можно достаточно такой последовательности &amp;ldquo;TC,,&amp;rdquo;. То есть атрибуты T и C для SSL и ничего для всего остального. Вся команда для импорта ca.crt будет выглядеть вот так:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;certutil -d sql:~/.pki/nssdb -A -t &amp;#34;TC,,&amp;#34; -n &amp;#34;Losst CA&amp;#34; -i ./ca.crt
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;После этого вы снова можете посмотреть список сертификатов для того чтобы убедится что всё хорошо:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;certutil -d sql:~/.pki/nssdb -L
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Сертификат есть и после этого браузер будет считать его доверенным. Сертификаты добавленные в графическом интерфейсе тоже добавляются сюда. Теперь вы знаете как выполняется установка корневых сертификатов Ubuntu.&lt;/p&gt;
&lt;h3 id=&#34;3-установка-в-firefox&#34;&gt;3. Установка в Firefox&lt;/h3&gt;
&lt;p&gt;В Firefox всё немного сложнее. Тут нет централизованного хранилища сертификатов, а поэтому их придется добавлять для каждого профиля отдельно, что в графическом интерфейсе, что в командной строке. Для того чтобы добавить сертификат в графическом интерфейсе откройтеНастройки в главном меню:&lt;/p&gt;
&lt;p&gt;Далее перейдите в раздел Защита и безопасность и найдите там пункт Сертификаты. Здесь надо нажать кнопку Посмотреть сертификаты:&lt;/p&gt;
&lt;p&gt;В открывшемся окне перейдите на вкладку Центры сертификации и нажмите кнопку Импортировать, для того чтобы добавить свой сертификат. Далее выберите файл сертификата и установить настройки доверия. Нужно отметить как минимум первую галочку - Доверять при идентификации веб-сайтов:&lt;/p&gt;
&lt;p&gt;На этом установка SSL сертификата в Firefox завершена. Если вы хотите добавить сертификат в командной строке, то необходимо добавить его во все профили. Профили находятся в папке~/.mozilla/firefox/. В данном примере, есть два профиля и только один из них заполнен:&lt;/p&gt;
&lt;p&gt;Файлы nssdb находятся прямо в папке профиля, поэтому можно просто передать эту папку в certutil. Например, для просмотра списка сертификатов выполните:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;certutil -d ~/.mozilla/firefox/k9z8sttc.default-release/ -L
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Для добавления сертификата используйте такую команду подставив свой путь к папке профиля:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;certutil -d ~/.mozilla/firefox/k9z8sttc.default-release/ -A -t &amp;#34;TC,,&amp;#34; -n &amp;#34;Losst&amp;#34; -i ./ca.crt
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;После этого полученный сертификат появится в списке.&lt;/p&gt;
&lt;p&gt;Обратите внимание, что такой способ работает для Firefox, установленного как .deb пакет. Если у вас Firefox, установленный с помощью пакетного менеджера snap, то этот метод может не работать.&lt;/p&gt;
&lt;p&gt;Для Firefox есть ещё один способ добавить сертификаты из системы автоматически без использования certutil. Это загрузка сертификатов с помощью политики. Возможно вы слышали про опцию security.enterprise_roots.enabled в about:config. Она работает только в Windows и MacOS но не в Linux. Однако, можно создать файл политики папке /usr/lib/firefox/distribution/ и там прописать какие сертификаты следует загрузить. По умолчанию Firefox будет искать сертификаты таких каталогах:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;/usr/lib/mozilla/certificates&lt;/li&gt;
&lt;li&gt;/usr/lib64/mozilla/certificates&lt;/li&gt;
&lt;li&gt;~/.mozilla/certificates&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;В самом файле надо указать имена файлов сертификатов если они находятся в одной из этих папок или полный путь к ним. Например, скопируйте сертификат CA в папку/usr/lib/mozilla/certificates:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;cp ~/easy-rsa-ca/ca.crt /usr/lib/mozilla/certificates/losst.crt
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Поддерживаются как ASCII сертификаты (CRT/PEM), так и двоичные (DER). Затем создайте файл политики со следующем содержимым:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo vi /usr/lib/firefox/distribution/policies.json
{
    &amp;#34;policies&amp;#34;: {
        &amp;#34;ImportEnterpriseRoots&amp;#34;: true,
        &amp;#34;Certificates&amp;#34;: {
            &amp;#34;Install&amp;#34;: [
                &amp;#34;losst.crt&amp;#34;,
            ]
       }
    }
}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Перезапустите браузер и после этого Firefox должен начать видеть ваш сертификат.&lt;/p&gt;
&lt;h2 id=&#34;выводы&#34;&gt;Выводы&lt;/h2&gt;
&lt;p&gt;В этой статье мы рассмотрели как установить сертификаты в Ubuntu, а также как добавить их в самые популярные браузеры. Как видите, универсального решения, не существует, но всё можно настроить.&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Поиск файлов по содержимому в Linux</title>
      <link>/posts/searching_files_by_contentin_linux/</link>
      <pubDate>Wed, 16 Oct 2024 13:56:22 +0300</pubDate>
      
      <guid>/posts/searching_files_by_contentin_linux/</guid>
      <description>&lt;p&gt;Иногда может понадобится найти файл, в котором содержится определённая строка или найти строку в файле, где есть нужное слово. Это может понадобится для поиска логов, поиска конфигурационных файлов, если вы не знаете где они находятся или для поиска файлов с программным кодом.&lt;/p&gt;
&lt;p&gt;Раньше для этих целей использовалась только утилита grep, однако сейчас существует огромное количество других программ, которые могут делать это быстрее и предоставляют более удобный интерфейс. В этой статье мы рассмотрим самые интересные из них и несколько примеров как ими пользоваться.&lt;/p&gt;</description>
      <content>&lt;p&gt;Иногда может понадобится найти файл, в котором содержится определённая строка или найти строку в файле, где есть нужное слово. Это может понадобится для поиска логов, поиска конфигурационных файлов, если вы не знаете где они находятся или для поиска файлов с программным кодом.&lt;/p&gt;
&lt;p&gt;Раньше для этих целей использовалась только утилита grep, однако сейчас существует огромное количество других программ, которые могут делать это быстрее и предоставляют более удобный интерфейс. В этой статье мы рассмотрим самые интересные из них и несколько примеров как ими пользоваться.&lt;/p&gt;
&lt;h2 id=&#34;поиск-файлов-по-содержимому-в-linux&#34;&gt;Поиск файлов по содержимому в Linux&lt;/h2&gt;
&lt;p&gt;Все утилиты в этой статье работают только в терминале. Если вас интересуют приложения с графическим интерфейсом, посмотрите статью поиск файлов в Linux. Большинство описанных ниже команд имеют примерно одинаковый синтаксис:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;$ команда опции паттерн /путь/к/папке&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Паттерн для поиска может быть обычным словом, но большинство команд ожидают, что это будет регулярное выражение, поэтому если в вашем запросе есть спец. символы, вы можете получить в результате не то, что ожидаете. Путь к папке, как правило, указывать не обязательно, тогда команды используют текущую папку для поиска. А теперь давайте рассмотрим каждую команду подробнее.&lt;/p&gt;
&lt;h3 id=&#34;1-grep&#34;&gt;1. Grep&lt;/h3&gt;
&lt;p&gt;Прежде чем перейти к современным утилитам, давайте рассмотрим команду grep. Она входит в набор программ GNU и используется для поиска строк в файлах и файлов по их содержимому уже очень давно.&lt;/p&gt;
&lt;p&gt;По умолчанию grep фильтрует один файл или стандартный ввод. Для того чтобы выполнять поиск в папке по нескольким файлам, нужно включить рекурсивный поиск с помощью опции &lt;strong&gt;-r&lt;/strong&gt;. Например, найдем все файлы в папке &lt;strong&gt;/etc/&lt;/strong&gt;, которые содержат строку &lt;strong&gt;root&lt;/strong&gt;:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo grep -r &amp;#34;root&amp;#34; /etc/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-894x576.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Команда grep не подсвечивает вхождения символов которое вы искали цветом, для этого можно использовать опцию &lt;strong&gt;&amp;ndash;color=always&lt;/strong&gt;. Но в большинстве дистрибутивов эта опция уже прописана в алиасе для этой команды, поэтому вывод будет выглядеть вот так:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo grep --color=always -r &amp;#34;root&amp;#34; /etc/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-1-894x576.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;С помощью опции &lt;strong&gt;-С&lt;/strong&gt; или &lt;strong&gt;&amp;ndash;context&lt;/strong&gt; вы можете включить отображение не только текущей строки, в которой было найдено вхождение но и нескольких строк до и после. В этом параметре надо указать количество строк для отображения:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo grep -r -С2 &amp;#34;root&amp;#34; /etc/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-2-894x576.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;По умолчанию grep ожидает, что поисковый запрос может быть регулярным выражением, но поддерживается только базовый синтаксис. Для включения расширенного синтаксиса нужно использовать опцию &lt;strong&gt;-E&lt;/strong&gt;. Например, для того чтобы найти все файлы содержащие переменные, начинающиеся на букву &lt;strong&gt;A&lt;/strong&gt; в папке &lt;strong&gt;/etc/&lt;/strong&gt; выполните:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo grep -r -E &amp;#34;^A[A-Z_]+\=&amp;#34; /etc/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-3-894x576.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;А для того чтобы искать именно фиксированную строку, а не регулярное выражение используйте опцию &lt;strong&gt;-F&lt;/strong&gt; или команду &lt;strong&gt;fgrep&lt;/strong&gt;. Например, так можно найти все файлы содержащие секцию [Install] в папке &lt;strong&gt;/usr/&lt;/strong&gt;:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo grep -r -F &amp;#34;[Install]&amp;#34; /usr/ 
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-4-894x576.png&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;2-ripgrep&#34;&gt;2. Ripgrep&lt;/h3&gt;
&lt;p&gt;Это популярная альтернатива grep написанная на Rust. Она может делать всё то же самое что и grep, но быстрее, а ещё её гораздо удобнее использовать. Рекурсивный поиск включён по умолчанию, и подсветка вхождений и имени файла разными цветами тоже работает без дополнительных опций, а также она пропускает скрытые файлы, бинарные файлы и файлы, перечисленные в &lt;strong&gt;.gitignore&lt;/strong&gt;. Для установки ripgrep в Ubuntu используйте такую команду:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo apt install ripgrep
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Если вы выполните команду, указав путь к файлу, то она найдёт и отобразит все вхождения искомого слова в этом файле. Например:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo rg root /etc/passwd
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-5-894x576.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Если же передать папку, то команда будет искать во всех файлах, которые находятся в этой папке. По умолчанию используется текущая папка. Например, для того чтобы найти все файлы, содержащие слово &amp;ldquo;root&amp;rdquo; в каталоге &lt;strong&gt;/etc/&lt;/strong&gt; используйте такую команду:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo rg root /etc/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-6-894x576.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Также, как и при использовании grep, можно отобразить не только строку со вхождением но и несколько строк до и после. Например, по две:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo rg -C2 root /etc/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-6-1-894x576.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;А вот полный синтаксис регулярных выражений здесь работает по умолчанию. Например:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo rg &amp;#34;^A[A-Z_]+=&amp;#34; /etc/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-7-894x576.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Если же вы хотите указать что надо искать именно строку, а не регулярное выражение, используйте опцию &lt;strong&gt;-F&lt;/strong&gt;:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo rg -F &amp;#34;[Install]&amp;#34; /usr/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-8-894x576.png&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;3-ack&#34;&gt;3. Ack&lt;/h3&gt;
&lt;p&gt;Если вам нужно найти файл с исходным кодом зная строку, которая в нём есть, то для этого существуют более подходящие утилиты чем grep. Например, ack. Она появилась уже довольно давно и предназначена именно для работы с исходным кодом. Кроме всех возможностей grep она позволяет пропускать файлы резервных копий, внутренние файлы репозиториев &lt;strong&gt;.git&lt;/strong&gt; и &lt;strong&gt;.svn&lt;/strong&gt;, а также дампы памяти. Кроме того, вы можете выбрать типы файлов, в которых будет выполняться поиск и даже указать определённую часть файла. Для установки программы в Ubuntu используйте такую команду:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo apt install ack
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Самый простой пример - поиск всех файлов содержащих слово &lt;strong&gt;root&lt;/strong&gt; в папке &lt;strong&gt;/etc/&lt;/strong&gt;:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo ack &amp;#34;root&amp;#34; /etc/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Или же регулярное выражение, как в предыдущем разделе для поиска файлов с переменными, начинающимися на букву A:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo ack &amp;#34;^A[A-Z_]+=&amp;#34; /etc/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-10-894x576.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Для того чтобы вывести не только строку с вхождением, но и строки до и после неё используйте опцию -C. По умолчанию выводится по две строки:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo ack -C &amp;#34;root&amp;#34; /etc/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-11-894x576.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Команда &lt;strong&gt;ack&lt;/strong&gt; позволяет указать тип файлов, в которых надо выполнять поиск. Это очень удобно для поиска по исходникам. Вы можете выбрать только исходные файлы Си, JavaScript или PHP и так далее. Все доступные типы файлов можно посмотреть с помощью команды:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ack --help-types
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-12-894x576.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Например, для того чтобы выполнять поиск только в XML файлах используйте опцию &lt;strong&gt;&amp;ndash;type&lt;/strong&gt; со значением &lt;strong&gt;xml&lt;/strong&gt;:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo ack --type=xml &amp;#34;root&amp;#34; /etc/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-13-894x576.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Ещё одна интересная возможность утилиты &lt;strong&gt;ack&lt;/strong&gt; - настройка частей файла, в которых будет выполняться поиск с помощью регулярного выражения. Для этого предназначены опции &lt;strong&gt;&amp;ndash;range-start&lt;/strong&gt; и &lt;strong&gt;&amp;ndash;range-end&lt;/strong&gt; и это будет работать как в рамках одной строки так и в рамках всего файла. Например, для поиска только в комментариях XML файлов можно использовать такую команду:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo ack --type=xml --range-start=&amp;#34;\&amp;lt;\!\-\-&amp;#34; --range-end=&amp;#34;\-\-\&amp;gt;&amp;#34; &amp;#34;root&amp;#34; /etc/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-14-894x576.png&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;4-silver-searcher&#34;&gt;4. Silver Searcher&lt;/h3&gt;
&lt;p&gt;На данный момент это одна из самых популярных программ для поиска текста по файлам в Linux. Она была спроектирована в качестве альтернативы для ack, как инструмент для поиска кода. В дополнение к основным возможностям ack, она значительно быстрее и учитывает настройки исключений из файлов .gitignore и .hgignore. Для установки программы в Ubuntu используйте такую команду:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo apt install silversearcher-ag
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Рассмотрим тот же пример, что и в предыдущих разделах. Для того чтобы найти все файлы содержащие слово &lt;strong&gt;root&lt;/strong&gt; в папке &lt;strong&gt;/etc/&lt;/strong&gt; выполните:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo ag &amp;#34;root&amp;#34; /etc/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-15-894x576.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Аналогично &lt;strong&gt;grep&lt;/strong&gt; и &lt;strong&gt;ripgrep&lt;/strong&gt;, &lt;strong&gt;ag&lt;/strong&gt; ожидает регулярное выражение в качестве паттерна поиска, поэтому вы можете использовать его без каких либо дополнительных опций. Например:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo ag &amp;#34;^A[A-Z_]+=&amp;#34; /etc/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-16-894x576.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Но если вы хотите чтобы поисковый запрос рассматривался именно как строка, используйте опцию &lt;strong&gt;-Q&lt;/strong&gt;. Например, для поиска всех файлов, содержащих секцию &lt;strong&gt;[Install]&lt;/strong&gt; в папке **/usr/**выполните:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo ag -Q &amp;#34;[Install]&amp;#34; /usr/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-17-894x576.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Здесь тоже можно вывести несколько строк до и после строки со вхождением с помощью опции &lt;strong&gt;-С&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;В отличие от &lt;strong&gt;grep и ripgrep&lt;/strong&gt;, команда &lt;strong&gt;ag&lt;/strong&gt; позволяет указать тип файлов в которых вы хотите выполнять поиск. Посмотреть все доступные типы файлов можно с помощью такой команды:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ag --list-file-types
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-19-894x576.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Например, для того чтобы искать только по ini файлам используйте такую команду:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo ag --ini &amp;#34;root&amp;#34; /etc/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-20-894x576.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Утилита также позволяет использовать регулярное выражение для фильтрации файлов по имени перед тем как выполнять поиск по содержимому. Для этого нужно использовать опцию &lt;strong&gt;-G&lt;/strong&gt;. Например для того чтобы выполнять поиск только по файлам, имя которых заканчивается на conf, выполните:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo ag -G .*\.conf$ root /etc/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-21-894x576.png&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;5-skim&#34;&gt;5. Skim&lt;/h3&gt;
&lt;p&gt;Это ещё одна интересная утилита для нечеткого поиска в реальном времени, написанная на Rust. По умолчанию она ищет файлы по имени, но её можно использовать вместе с одной из выше перечисленных утилит для поиска файлов по содержимому в реальном времени. Пакета с программой пока нет в официальных репозиториях, но вы можете установить её с помощью cargo:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;cargo install skim
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Команда выполняет поиск только в текущей папке и указать другую папку нельзя, поэтому нужно сначала перейти в нужную папку используя команду &lt;strong&gt;cd&lt;/strong&gt;. Например:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;cd /etc/
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Затем используйте такую команду для того чтобы объединить sk с Silver Searcher для фильтрации файлов по содержимому:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sk --ansi -i -c &amp;#39;ag --color &amp;#34;{}&amp;#34;&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Здесь опция &lt;strong&gt;&amp;ndash;ansi&lt;/strong&gt; включает отображение цветов, &lt;strong&gt;-i&lt;/strong&gt; включает интерактивный режим, а опция &lt;strong&gt;-c&lt;/strong&gt;задает команду, которая будет выполнена при вводе какого-либо запроса, строка &lt;strong&gt;{}&lt;/strong&gt; будет заменена на то, что вы введете при поиске. Просто выполните команду и начинайте вводить слово которое хотите искать:&lt;/p&gt;
&lt;p&gt;&lt;img alt=&#34;img&#34; src=&#34;https://losst.pro/wp-content/uploads/2023/03/search-files-by-content-22-894x576.png&#34;&gt;&lt;/p&gt;
&lt;p&gt;Дальше вы можете использовать все функции фильтрации нечеткого поиска для обработки результатов.&lt;/p&gt;
&lt;h2 id=&#34;производительность-grep-rg-ack-и-ag&#34;&gt;Производительность grep, rg, ack и ag&lt;/h2&gt;
&lt;p&gt;Перед завершением статьи хочу привести небольшой тест производительности выше перечисленных утилит для поиска текста по файлам в Linux. Я скачал и распаковал исходники ядра Linux версии 6.2.10, а затем использовал каждую из утилит для того чтобы найти все файлы, которые содержат слово ext4 и btrfs. Между разными утилитами система перезагружалась, для того чтобы исключить влияние кэша. Вот результаты:&lt;/p&gt;
&lt;table&gt;
  &lt;thead&gt;
      &lt;tr&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;Команда&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;Время, с&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;Команда&lt;/strong&gt;&lt;/th&gt;
          &lt;th style=&#34;text-align: left&#34;&gt;&lt;strong&gt;Время&lt;/strong&gt;, &lt;strong&gt;с&lt;/strong&gt;&lt;/th&gt;
      &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;grep -r ext4 ./&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;23.167&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;grep -r btrfs ./&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;3.860&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;rg ext4 ./&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;27.164&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;rg btrfs ./&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;1.387&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;ack ext4 ./&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;36.141&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;ack btrfs ./&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;7.206&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;ag ext4 ./&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;24.594&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;&lt;strong&gt;ag btrfs ./&lt;/strong&gt;&lt;/td&gt;
          &lt;td style=&#34;text-align: left&#34;&gt;3.158&lt;/td&gt;
      &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Как видите, сразу после запуска системы все команды работают примерно одинаково. Однако после того, утилиты, написанные на Rust эффективнее используют кэш, поскольку при повторных запусках для того же набора файлов работают быстрее аналогов на Си.&lt;/p&gt;
&lt;h2 id=&#34;выводы&#34;&gt;Выводы&lt;/h2&gt;
&lt;p&gt;В этой статье были рассмотрены самые часто используемые утилиты для поиска файлов по содержимому и поиска текста в файлах в Linux. Как видите, существует достаточно инструментов чтобы было из чего выбрать. Все команды довольно похожие, но каждая из них имеет свои особенности.&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Как установить Minecraft на Linux</title>
      <link>/posts/minecraftonlinux/</link>
      <pubDate>Tue, 15 Oct 2024 23:33:48 +0300</pubDate>
      
      <guid>/posts/minecraftonlinux/</guid>
      <description>&lt;h2 id=&#34;установка-minecraft-на-linux&#34;&gt;Установка Minecraft на Linux&lt;/h2&gt;
&lt;p&gt;В этой статье речь пойдёт о Minecraft. Да, многие ненавидят эту игру, но всё же она не так плоха и обладает большим количеством плюсов. У данной игры развитое сообщество (и это не только школьники). Так как Minecraft написан на Java, у нас есть возможность нативно запускать её под различными дистрибутивами Linux, чем мы и займёмся в данной статье.&lt;/p&gt;
&lt;p&gt;Одним из важных критериев для запуска игры является наличие проприетарной Java от Oracle. Поэтому установку Minecraft на Linux рассмотрим на примере дистрибутивов Ubuntu, Arch Linux, Cent OS (Gentoo включать не буду, потому что на Wiki всё хорошо расписано). Так же сравним популярные лаунчеры.&lt;/p&gt;</description>
      <content>&lt;h2 id=&#34;установка-minecraft-на-linux&#34;&gt;Установка Minecraft на Linux&lt;/h2&gt;
&lt;p&gt;В этой статье речь пойдёт о Minecraft. Да, многие ненавидят эту игру, но всё же она не так плоха и обладает большим количеством плюсов. У данной игры развитое сообщество (и это не только школьники). Так как Minecraft написан на Java, у нас есть возможность нативно запускать её под различными дистрибутивами Linux, чем мы и займёмся в данной статье.&lt;/p&gt;
&lt;p&gt;Одним из важных критериев для запуска игры является наличие проприетарной Java от Oracle. Поэтому установку Minecraft на Linux рассмотрим на примере дистрибутивов Ubuntu, Arch Linux, Cent OS (Gentoo включать не буду, потому что на Wiki всё хорошо расписано). Так же сравним популярные лаунчеры.&lt;/p&gt;
&lt;p&gt;Содержание статьи&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Установка Minecraft в Linux (официальная версия)
&lt;ul&gt;
&lt;li&gt;
&lt;ol&gt;
&lt;li&gt;Регистрация аккаунта Mojang&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;Установка Java и проприетарных драйверов&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;Установка официального Minecraft-лаунчера&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Сторонние лаунчеры Minecraft в Linux
&lt;ul&gt;
&lt;li&gt;Запуск лаунчера Minecraft в Linux&lt;/li&gt;
&lt;li&gt;
&lt;ol&gt;
&lt;li&gt;MRLauncher&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;MLauncher&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;TLauncher&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Скриншоты из игры&lt;/li&gt;
&lt;li&gt;Выводы&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;установка-minecraft-в-linux-официальная-версия&#34;&gt;Установка Minecraft в Linux (официальная версия)&lt;/h2&gt;
&lt;h3 id=&#34;1-регистрация-аккаунта-mojang&#34;&gt;1. Регистрация аккаунта Mojang&lt;/h3&gt;
&lt;p&gt;Если вы хотели бы приобрести лицензию Minecraft, перейдите на официальный сайт и нажмите BUY MINECRAFT:&lt;/p&gt;
&lt;p&gt;Далее вам необходимо ввести вашу почту (Gmail, MailRu или любую другую - не важно), пароль и дату рождения. Обратите внимание, вы должны согласиться со сбором данных, нажав I agree to collection of usage data. Чтобы создать аккаунт, нажмите CREATE ACCOUNT:&lt;/p&gt;
&lt;p&gt;Чтобы подтвердить аккаунт, вам на почту, указанную при регестрации, будет выслан код подтверждения. Введите его в поле Verification code и нажмите VERIFY:&lt;/p&gt;
&lt;p&gt;Далее вам нужно будет ввести данные, необходимые для покупки, и после оплаты скачать игру:&lt;/p&gt;
&lt;h3 id=&#34;2-установка-java-и-проприетарных-драйверов&#34;&gt;2. Установка Java и проприетарных драйверов&lt;/h3&gt;
&lt;p&gt;Для запуска игры вам понадобится установить в свою систему Java-машину. Рекомендуется использовать восьмую версию. Подробнее об установке Java читайте в статье установка Java в Linux. Также для лучшей производительности рекомендуется использовать проприетарные драйвры для видеокарты.&lt;/p&gt;
&lt;h3 id=&#34;3-установка-официального-minecraft-лаунчера&#34;&gt;3. Установка официального Minecraft-лаунчера&lt;/h3&gt;
&lt;p&gt;Скачать лаунчер можно и без оплаты. Но для игры вам всё равно надо будет пройти регистрацию. Если вы незаплатите, вам будет доступна только демо-версия игры (5 игровых дней, что ~= 100 реальным минутам). Чтобы скачать лаунчер, просто нажмите Download и сохраните в удобную для вас папку:&lt;/p&gt;
&lt;p&gt;После запуска скачанного файла, подождите несколько секунд, пока игра загрузится и распакуется:&lt;/p&gt;
&lt;p&gt;Теперь вам необходимо ввести логин и пароль, указанные при регистрации, и нажать Log In:&lt;/p&gt;
&lt;p&gt;Если вы оплатили лицензию, то у вас будет кнопка Play, если же вы этого не сделали, то будет Play Demo. Нажмите на эту кнопку:&lt;/p&gt;
&lt;p&gt;Повторюсь, если вы купили лицензию, то вас забросит в главное меню со всеми пунктами, если же вы в демо-режиме, то у вас будет только возможность создать и пересоздать новый мир. При том только один. И если вы создадите мир в демо, то увидите надпись, рассказывающую об основах управления, и пометку об ограничении времени. Так же таймер появится в правом верхнем углу. Если вы не хотите оплачивать, нажмите Continue Playing:&lt;/p&gt;
&lt;p&gt;Так же есть возможность установить Minecraft на Linux через snap-пакет. Для этого выполните следующую команду в эмуляторе терминала:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;sudo snap install minecraft 
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;сторонние-лаунчеры-minecraft-в-linux&#34;&gt;Сторонние лаунчеры Minecraft в Linux&lt;/h2&gt;
&lt;p&gt;Основным отличием является то, что в официальном лаунчере вы можете играть только через аккаунт Mojang, а в сторонних игра доступна либо вообще без аккаунта (только с ником), либо с аккаунтом одной из систем (например Ely.by) или же самой Mojang. Используя сторонний аккаунт (не путать с лаунчером - сторонним считается любой акк, зарегестрированный не в Mojang), вы не сможете играть на лицензионных серверах.&lt;/p&gt;
&lt;h3 id=&#34;запуск-лаунчера-minecraft-в-linux&#34;&gt;Запуск лаунчера Minecraft в Linux&lt;/h3&gt;
&lt;p&gt;Установка Minecraft Linux состоит лишь в том, чтобы скачать лаунчер и запустить его. Любой скачанный вами лаунчер представляет собой обычный &amp;ldquo;*.jar&amp;rdquo; файл. Просто кликните по нему 2 раза. Если появится ошибка при запуске, или же он откроется как обычный архив, скорее всего, у вас нет проприетарной Java от Oracle. Ссылка на статью про установку Java есть выше. Если вы всё сделали правильно, то нажмите по файлу правой кнопкой мыши и в параметрах укажите запуск через Java той версии, которая вам нужна (рекомендую Java 8).&lt;/p&gt;
&lt;p&gt;Или же вы можете использовать такую команду для запуска лаунчера через терминал:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;java -jar /путь/к/файлу/лаунчера.jar
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Давайте далее рассмотрим основные лаунчеры.&lt;/p&gt;
&lt;h3 id=&#34;1-mrlauncher&#34;&gt;1. MRLauncher&lt;/h3&gt;
&lt;p&gt;Это бесплатный лаунчер от команды MinecraftRating.ru, в который интегрирован их собственный мониторинг серверов.&lt;/p&gt;
&lt;p&gt;Из плюсов:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Возможность входа с лицензионного аккаунта Mojang, поддержка игры через Ely.by, так же можно использовать обычный аккаунт без пароля;&lt;/li&gt;
&lt;li&gt;Возможность заходить на сервер в один клик, нажав кнопку &amp;ldquo;Играть.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Из минусов хотелось бы отметить, что у MRLauncher довольно громоздкий и не очень удобный интерфейс, но это на мой взгляд.&lt;/p&gt;
&lt;h3 id=&#34;2-mlauncher&#34;&gt;2. MLauncher&lt;/h3&gt;
&lt;p&gt;Свободный лаунчер Minecraft, имеющий довольно высокую популярность среди игроков.&lt;/p&gt;
&lt;p&gt;Из плюсов:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Поддержка аккаунтов Mojang, возможность игры через пиратский аккаунт без пароля;&lt;/li&gt;
&lt;li&gt;Своя система скинов;&lt;/li&gt;
&lt;li&gt;Удобная система сортировки серверов;&lt;/li&gt;
&lt;li&gt;Установка модов &amp;ldquo;В один клик&amp;rdquo;;&lt;/li&gt;
&lt;li&gt;Довольно красивый и приятный интерфейс (субъективно).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Из минусов - нет поддержки Ely.by.&lt;/p&gt;
&lt;h3 id=&#34;3-tlauncher&#34;&gt;3. TLauncher&lt;/h3&gt;
&lt;p&gt;Сам пользуюсь данным лаунчером, но скорее по првычке.&lt;/p&gt;
&lt;p&gt;Из плюсов:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Поддержка аккаунтов Mojang, собственные аккаунты Tlauncher, поддержка пиратских аккаунтов без пароля;&lt;/li&gt;
&lt;li&gt;Своя система скинов (Ely.by);&lt;/li&gt;
&lt;li&gt;Есть версия для мобильных устройств TLauncherPE.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Из минусов:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Много рекламы в самом лаунчере;&lt;/li&gt;
&lt;li&gt;Сам добавляет серверы в ваш список в игре;&lt;/li&gt;
&lt;li&gt;Хоть вы и можете играть на пиратском аккаунте, но вас словно вынуждают завести учётную запись TLauncher;&lt;/li&gt;
&lt;li&gt;Слииишком часто вам намекают о том, что стоило бы купить премиум подписку, к слову, не очень дешёвую.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;скриншоты-из-игры&#34;&gt;Скриншоты из игры&lt;/h2&gt;
&lt;p&gt;Ниже будет приведена пара скриншотов из самой игры. Запускалась она на Xubuntu:&lt;/p&gt;
&lt;h2 id=&#34;выводы&#34;&gt;Выводы&lt;/h2&gt;
&lt;p&gt;В данной статье мы рассмотрели, как выполняется установка Minecraft на Linux, а так же сравнили различные лаунчеры для игры Minecraft. Если остались какие-либо вопросы, спрашивайте в комментариях!&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>Установка  Ngnix в Ubuntu</title>
      <link>/posts/nginx_ubuntu/</link>
      <pubDate>Sun, 13 Oct 2024 18:59:44 +0300</pubDate>
      
      <guid>/posts/nginx_ubuntu/</guid>
      <description>&lt;p&gt;На данный момент самую большую популярность набрали два веб-сервера. Это Apache и Ngnix. У каждого из них есть свои плюсы и минусы. Apache был разработан еще в 1995 году и при его разработке учитывались не все возможные потребности пользователей, он потребляет много памяти и ресурсов системы, зато он прост в настройке. Nginx был разработан чуть позже в 2002 году уже учитывая ошибки Apache и ориентируясь на максимальную производительность.&lt;/p&gt;
&lt;p&gt;Мы не будем подробно вникать в плюсы и минусы этих обоих веб-серверов. У каждого из них своя область применения.  В этой инструкции будет рассмотрена установка Nginx в Ubuntu. Хотя я буду говорить об Ubuntu, все действия подойдут и для других дистрибутивов. Настройка Nginx везде одинакова, только команда установки отличается.&lt;/p&gt;</description>
      <content>&lt;p&gt;На данный момент самую большую популярность набрали два веб-сервера. Это Apache и Ngnix. У каждого из них есть свои плюсы и минусы. Apache был разработан еще в 1995 году и при его разработке учитывались не все возможные потребности пользователей, он потребляет много памяти и ресурсов системы, зато он прост в настройке. Nginx был разработан чуть позже в 2002 году уже учитывая ошибки Apache и ориентируясь на максимальную производительность.&lt;/p&gt;
&lt;p&gt;Мы не будем подробно вникать в плюсы и минусы этих обоих веб-серверов. У каждого из них своя область применения.  В этой инструкции будет рассмотрена установка Nginx в Ubuntu. Хотя я буду говорить об Ubuntu, все действия подойдут и для других дистрибутивов. Настройка Nginx везде одинакова, только команда установки отличается.&lt;/p&gt;
&lt;p&gt;Содержание статьи&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Установка компонентов&lt;/li&gt;
&lt;li&gt;Настройка Nginx Ubuntu&lt;/li&gt;
&lt;li&gt;Настройка сжатия Gzip&lt;/li&gt;
&lt;li&gt;Настройка виртуальных хостов&lt;/li&gt;
&lt;li&gt;Просмотр статистики&lt;/li&gt;
&lt;li&gt;Выводы&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;установка-компонентов&#34;&gt;Установка компонентов&lt;/h2&gt;
&lt;p&gt;Первым делом нужно установить сам веб-сервер в систему. Программа есть в официальных репозиториях, но ее версия уже немного устарела, поэтому если хотите самую новую версию, нужно добавить PPA:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; sudo apt-add-repository ppa:nginx/stable
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Сейчас в официальных репозиториях доступна версия 1.10.0, а в стабильной PPA уже доступна 1.10.1. Если для вас версия не нужна можно обойтись и без PPA. Дальше обновите списки пакетов из репозиториев:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; sudo apt update
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;И устанавливаем ngnix:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; sudo apt install nginx
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;a href=&#34;https://losst.pro/wp-content/uploads/2016/07/nginx.png&#34;&gt;&lt;img alt=&#34;nginx&#34; src=&#34;https://losst.pro/wp-content/uploads/2016/07/nginx.png&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;После того как установка сервера Nginx будет завершена добавим программу в автозагрузку, чтобы она запускалась автоматически:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; sudo systemctl enable nginx
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Если вы уже сейчас откроете браузер, то увидите работающий nginx, но нам предстоит его еще настроить.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;[!NOTE]&lt;/p&gt;
&lt;p&gt;По умолчанию загрузка отключена&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&#34;https://losst.pro/wp-content/uploads/2016/07/nginx1.png&#34;&gt;&lt;img alt=&#34;nginx1&#34; src=&#34;https://losst.pro/wp-content/uploads/2016/07/nginx1.png&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h2 id=&#34;настройка-nginx-ubuntu&#34;&gt;Настройка Nginx Ubuntu&lt;/h2&gt;
&lt;p&gt;Настройка Nginx Ubuntu намного сложнее чем Apache. Здесь мы не будем рассматривать все опции и возможности программы, а поговорим только об основном. Есть различные конфигурации, в которых Nginx используется в качестве прокси сервера, а основной сервер Apache, но нас это интересовать не будет. Нам нужна установка Nginx как самостоятельного веб-сервера.&lt;/p&gt;
&lt;p&gt;Настройки Nginx сильно отличаются: здесь есть только один основной файл конфигурации и файлы для виртуальных хостов. Настройка из каждой директории, как в Apache не поддерживается.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;/etc/nginx/nginx.conf&lt;/strong&gt; - главный файл конфигурации&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;/etc/nginx/sites-available/*&lt;/strong&gt; - файлы конфигурации для виртуальных хостов, проще говоря для каждого сайта.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;/etc/nginx/sites-enabled/*&lt;/strong&gt; - файлы конфигурации активированных сайтов.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;На самом деле файлы конфигурации для виртуальных хостов читаются только из директории sites-enabled, но здесь содержатся ссылки на файлы из каталога sites-available. Такая система была придумана, чтобы дать возможность отключать на время те или иные сайты, не стирая их конфигурацию. Все остальные файлы содержат только объявления переменных и стандартные настройки, которые изменять не нужно. Что же касается nginx.conf, то в него включаются все файлы из sites-enables, а поэтому они могут содержать все точно такие же инструкции. А теперь давайте рассмотрим главный файл конфигурации:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; sudo vi /etc/nginx/nginx.conf
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;a href=&#34;https://losst.pro/wp-content/uploads/2016/07/nginx2.png&#34;&gt;&lt;img alt=&#34;nginx2&#34; src=&#34;https://losst.pro/wp-content/uploads/2016/07/nginx2.png&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Как видите файл разделен на секции. Общая структура такова:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;глобальные опцииevents {}http{server {location{}}server {}}mail {}
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;глобальные опции&lt;/strong&gt; отвечают за работу всей программы.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;events&lt;/strong&gt; - эта секция содержит настройки для работы с сетью.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;http&lt;/strong&gt; - содержит настройки веб-сервера. Должна содержать секцию servier для тонкой настройки каждого сайта.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;server&lt;/strong&gt; - в этой секции содержится настройка каждого размещенного на веб-сервере сайта.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;location&lt;/strong&gt; - секция location может находиться только внутри секции server и содержит настройки только для определенного запроса.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;mail&lt;/strong&gt; - содержит настройки почтового прокси.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Перед тем как перейти к опциям, нужно сказать еще пару слов о синтаксисе строки в конфигурационном файле. Он выглядит вот так:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;параметр значение дополнительное_значение&amp;hellip;;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Строка должна обязательно заканчиваться &amp;ldquo;;&amp;rdquo;, а все открытые скобки { должны быть закрыты.&lt;/p&gt;
&lt;p&gt;Теперь, когда вы немного изучили глобальную структуру, можно переходить к рассмотрению самих параметров. Глобальных опций не так уж много:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;user&lt;/strong&gt; - пользователь, от имени которого будет работать программа.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;worker_processes&lt;/strong&gt; - устанавливает сколько процессов нужно запускать для параллелизации работы программы, нужно запускать не больше процессов, чем у вас есть ядер. Можно установить параметр &lt;strong&gt;auto&lt;/strong&gt; и тогда программа определит это число сама.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;pid&lt;/strong&gt; = файл pid программы.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;worker_rlimit_nofile&lt;/strong&gt; - указывает максимальное количество файлов, которые может открыть программа. Рассчитывается как worker_processes * worker_connections* 2.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;С глобальными опциями закончили, их было не так много и они не такие интереснее. Куда интереснее в плане оптимизации опции с секции events:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;worker_connections&lt;/strong&gt; - количество соединений, которые программа может обрабатывать одновременно на одном процессе. Если умножить worker_process на этот параметр, то мы получим максимальное количество пользователей, которые могут подключиться к серверу одновременно. Рекомендуется устанавливать значение от 1024 до 4048.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;multi_accept&lt;/strong&gt; - разрешить принимать много подключений одновременно, установите параметр on или off.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;use&lt;/strong&gt; - способ работы с сетевым стеком. По умолчанию используется poll, но для Linux эффективнее использовать epoll.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Дальше переходим самой главной секции - http. Здесь опций намного больше:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;sendfile&lt;/strong&gt; - использовать метод отправки данных sendfile. Значение on.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;tcp_nodelay, tcp_nopush&lt;/strong&gt; - отправлять заголовки и начало файла одним пакетом. Значение on.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;keepalive_timeout&lt;/strong&gt; - таймаут ожидания, перед тем как keepalive соединение будет разорвано, по умолчанию 65, но можно уменьшить до 10 секунд.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;keepalive_requests&lt;/strong&gt; - максимальное количество keepalive соединений от одного клиента, рекомендовано 100.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;reset_timedout_connection&lt;/strong&gt; - разрывать соединения после таймаута. Значение on.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;open_file_cache&lt;/strong&gt; - кэшировать информацию об открытых файлах. Строчка настройки выглядит вот так: open_file_cache max=200000 inactive=20s; max - максимальное количество файлов в кэше, время кэширования.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;open_file_cache_valid&lt;/strong&gt; - указывает по истечении какого времени нужно удалить информацию из кэша. Например: open_file_cache_valid 30s;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;open_file_cache_min_uses&lt;/strong&gt; - кэшировать информацию о файлах, которые были открыты как минимум указанное количество раз.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;open_file_cache_errors&lt;/strong&gt; - кэшировать информацию об отсутствующих файлах, значение on.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Основные параметры рассмотрели. Эти настройки помогут вам получить большую производительность от nginx. Секцию server и location мы рассмотрим в настройке виртуальных хостов.&lt;/p&gt;
&lt;h2 id=&#34;настройка-сжатия-gzip&#34;&gt;Настройка сжатия Gzip&lt;/h2&gt;
&lt;p&gt;Сжатие контента необходимо, чтобы уменьшить размер загружаемых браузером данных. Это ускоряет загрузку сайта, но добавляет дополнительную нагрузку на процессор сервера. Чтобы включить сжатие в секции http нужно добавить параметр:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;gzip on&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Эту директиву можно использовать также в секции server, тогда она будет работать только для указного виртуального домена. Дальше настраиваем параметры сжатия настраиваются с помощью следующих опций:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;gzip_min_length&lt;/strong&gt; - минимальная длина страницы в байтах, при которой нужно использовать сжатие, например, 1000 (1 кб)&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;gzip_proxied&lt;/strong&gt; - нужно ли сжимать проксированые запросы, any говорит, что нужно сжимать все.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;gzip_types&lt;/strong&gt; - типы файлов, которые нужно сжимать, например: text/plain application/xml application/x-javascript text/javascript text/css text/json;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;gzip_disable &amp;ldquo;msie6&amp;rdquo;&lt;/strong&gt; - в IE 6 сжатие не поддерживается, поэтому отключаем.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;gzip_comp_level&lt;/strong&gt; - уровень сжатия, доступны варианты от 1 до 10. 1 - минимальное, 10 - максимальное сжатие.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;настройка-виртуальных-хостов&#34;&gt;Настройка виртуальных хостов&lt;/h2&gt;
&lt;p&gt;Как вы знаете, на сервере может размещаться несколько сайтов. Все запросы приходят на ip сервера, а nginx уже определяет на основе домена какой контент нужно выдать. Для того чтобы nginx знал что к какому домену относится нужно настроить виртуальные хосты. Каждый хост принято размещать в отдельном файле. Настройка хоста находится в секции server, но поскольку все файлы из sites-enabled импортируются в секцию http, то логика структуры конфигурационного файла не нарушается.&lt;/p&gt;
&lt;p&gt;Рассмотрим пример настройки:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; vi /etc/nginx/sites-enabled/losst.pro.conf
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;&lt;a href=&#34;https://losst.pro/wp-content/uploads/2016/07/nginx3.png&#34;&gt;&lt;img alt=&#34;nginx3&#34; src=&#34;https://losst.pro/wp-content/uploads/2016/07/nginx3.png&#34;&gt;&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;listen 80&lt;/strong&gt; - указывает, что нужно ожидать подключения на порту 80, может также содержать опцию &lt;strong&gt;default-server&lt;/strong&gt;, которая означает, что этот домен будет открывается если домен не был задан в запросе.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;root /var/www/html&lt;/strong&gt; - директория, в которой находятся файлы сайта.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;index index.html&lt;/strong&gt; - страница, которая будет открываться по умолчанию.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;server_name&lt;/strong&gt; - доменное имя сайта.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;access_log&lt;/strong&gt; - файл для записи лога запросов к серверу, может использоваться как глобально в секции http, так и для определенного типа файлов в location.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;error_log&lt;/strong&gt; - лог ошибок веб-сервера, может принимать дополнительный параметр, указывающий подробность лога. warn - максимум, crit - только критические ошибки.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Это все основные настройки виртуального хоста, после них он уже будет работать. Но тут есть еще секция location, которая позволяет настроить поведение сервера для определенных директорий и файлов. Синтаксис location такой:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;location адрес {}&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;В качестве адреса может использоваться как прямой запрос относительно корня сервера, так и регулярные выражения. Для использования регулярных выражений перед ним ставится символ &amp;ldquo;~&amp;rdquo;. Примеры рассмотрим ниже, а пока рассмотрим возможные директивы:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;allow&lt;/strong&gt; - разрешить доступ к местоположению для пользователей, all - всех, также можно указать ip или подсеть.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;deny&lt;/strong&gt; - запретить доступ к местоположению, all - для всех.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;try-files&lt;/strong&gt; - пытается открыть файлы в определенном порядке, открывает первый обнаруженный файл. Например, такая конструкция: $uri $uri/index.html $uri.html =404; сначала пытается открыть $uri, затем index.html, если не найден $uri.html, и аж потом, если ни одного из предложных файлов не существует, выдает ошибку 404.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;expires&lt;/strong&gt; - задает время кэширования браузером отданного элемента, например, 1d - один день, 2h - два часа, 30s - 30 секунд.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Кроме этих главных директив, здесь могут использоваться и другие. Чтобы получить больше подробностей, смотрите официальную документацию. Рассмотрим пару примеров:&lt;/p&gt;
&lt;p&gt;Не выполнять логирование для favicon:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;location = /favicon.ico {log_not_found off;access_log off;}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Запретить доступ к файлам, начинающимся с точки:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;location ~ /\. {deny all;}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Кэшировать обычные файлы на 90 дней:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;location ~* ^.+\.(ogg|ogv|svg|svgz|eot|otf|woff|mp4|ttf|rss|atom|jpg|jpeg|gif|png|ico|zip|tgz|gz|rar|bz2|doc|xls|exe|ppt|tar|mid|midi|wav|bmp|rtf)$ {access_log off; log_not_found off; expires 90d;}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;После того, как установка и настройка nginx будет завершена проверяем конфигурацию на ошибки:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; nginx -t
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Затем перезагружаем сервер:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; sudo service nginx reload
 sudo service nginx restart
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Если изменялись незначительные параметры можно использовать reload, тогда будет просто обновлена конфигурация без перезагрузки, если же изменяли глобальные опции, нужно перезагрузить программу полностью с помощью restart.&lt;/p&gt;
&lt;h2 id=&#34;просмотр-статистики&#34;&gt;Просмотр статистики&lt;/h2&gt;
&lt;p&gt;Просмотр статистики работы веб-сервера очень важен. Установка nginx, должна содержать настройку возможности получения статистики. Для того чтобы это сделать добавьте такие строки к вашему хосту в секцию server:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;location /basic-staus {stats_stub;allow 127.0.0.1deny all;}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Статистика будет доступна только с локального ip:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt; wget localhost/basic-status -O -
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;выводы&#34;&gt;Выводы&lt;/h2&gt;
&lt;p&gt;Установка Nginx Ubuntu 16.04 завершена и теперь вы немного представляете как его настроить. Конечно, есть еще много вещей, которые мы не упомянули в статье, например, настройка обработки динамического контента php или настройка nginx Ubuntu в качестве прокси-сервера для apache. Возможно, это будет рассмотрено в следующих статях.&lt;/p&gt;
&lt;p&gt;×&lt;/p&gt;
</content>
    </item>
    
    <item>
      <title>KDE Plasma 6.2</title>
      <link>/posts/plasma62/</link>
      <pubDate>Sun, 13 Oct 2024 17:50:26 +0300</pubDate>
      
      <guid>/posts/plasma62/</guid>
      <description>&lt;h2 id=&#34;улучшенная-цветопередача-в-wayland&#34;&gt;Улучшенная цветопередача в Wayland&lt;/h2&gt;
&lt;p&gt;Для Wayland сессии реализована более полная поддержка протокола управления цветом.&lt;/p&gt;
&lt;p&gt;Улучшена обработка яркости и производительность для профилей HDR и ICC.&lt;/p&gt;
&lt;p&gt;Улучшено отображение изображений с яркостью или набором цветов, которые не превышают цветовые возможности экрана. Такие изображения теперь будут отображаться более естественно и без засветов.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://pingvinus.ru/cr_images/modelImage/article/5234-pageimgs-po0nfl62dw.png&#34;&gt;&lt;img alt=&#34;Пример улучшенного отображения изображений с широким диапазоном цветов. До и После.&#34; src=&#34;https://pingvinus.ru/cr_images/modelImage/article/5234-pageimgs-po0nfl62dw.png&#34;&gt;&lt;/a&gt;Пример улучшенного Отображения изображений с широким диапазоном цветов. До и После.&lt;/p&gt;
&lt;h2 id=&#34;поддержка-и-настройка-планшетов-для-рисования&#34;&gt;Поддержка и настройка планшетов для рисования&lt;/h2&gt;
&lt;p&gt;Улучшена поддержка планшетов для рисования, в Параметры системы добавлена отдельная страница «Планшет для рисования» с различными настройками планшетов. Для работы графических планшетов в KDE Plasma теперь не требуется установка дополнительных драйверов, поддержка должна обеспечиваться автоматически.&lt;/p&gt;</description>
      <content>&lt;h2 id=&#34;улучшенная-цветопередача-в-wayland&#34;&gt;Улучшенная цветопередача в Wayland&lt;/h2&gt;
&lt;p&gt;Для Wayland сессии реализована более полная поддержка протокола управления цветом.&lt;/p&gt;
&lt;p&gt;Улучшена обработка яркости и производительность для профилей HDR и ICC.&lt;/p&gt;
&lt;p&gt;Улучшено отображение изображений с яркостью или набором цветов, которые не превышают цветовые возможности экрана. Такие изображения теперь будут отображаться более естественно и без засветов.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://pingvinus.ru/cr_images/modelImage/article/5234-pageimgs-po0nfl62dw.png&#34;&gt;&lt;img alt=&#34;Пример улучшенного отображения изображений с широким диапазоном цветов. До и После.&#34; src=&#34;https://pingvinus.ru/cr_images/modelImage/article/5234-pageimgs-po0nfl62dw.png&#34;&gt;&lt;/a&gt;Пример улучшенного Отображения изображений с широким диапазоном цветов. До и После.&lt;/p&gt;
&lt;h2 id=&#34;поддержка-и-настройка-планшетов-для-рисования&#34;&gt;Поддержка и настройка планшетов для рисования&lt;/h2&gt;
&lt;p&gt;Улучшена поддержка планшетов для рисования, в Параметры системы добавлена отдельная страница «Планшет для рисования» с различными настройками планшетов. Для работы графических планшетов в KDE Plasma теперь не требуется установка дополнительных драйверов, поддержка должна обеспечиваться автоматически.&lt;/p&gt;
&lt;p&gt;В настройках можно переназначить функции кнопок стилуса. Доступна функция калибровки и задание соответствия между областью планшета и экрана.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://pingvinus.ru/cr_images/modelImage/article/5234-pageimgs-ykgzlao9gb.png&#34;&gt;&lt;img alt=&#34;Настройка планшета для рисования в KDE Plasma 6.2&#34; src=&#34;https://pingvinus.ru/cr_images/modelImage/article/5234-pageimgs-ykgzlao9gb.png&#34;&gt;&lt;/a&gt;Настройка планшета для рисования в KDE Plasma 6.2&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://pingvinus.ru/cr_images/modelImage/article/5234-pageimgs-8vy34oln0v.png&#34;&gt;&lt;img alt=&#34;Если планшет не подключен, страница с настройками пустая.&#34; src=&#34;https://pingvinus.ru/cr_images/modelImage/article/5234-pageimgs-8vy34oln0v.png&#34;&gt;&lt;/a&gt;Если планшет не подключен, страница с настройками пустая.&lt;/p&gt;
&lt;h2 id=&#34;яркость-каждого-монитора-отдельно&#34;&gt;Яркость каждого монитора отдельно&lt;/h2&gt;
&lt;p&gt;Добавлена возможность установить яркость каждого подключенного экрана отдельно. Виджет настройки яркости имеет ползунки настройки яркости для каждого монитора. Раньше значение яркости применялось ко всем экранам сразу.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://pingvinus.ru/cr_images/modelImage/article/5234-pageimgs-ppu9cdvgol.png&#34;&gt;&lt;img alt=&#34;Настройка яркости каждого монитора отдельно.&#34; src=&#34;https://pingvinus.ru/cr_images/modelImage/article/5234-pageimgs-ppu9cdvgol.png&#34;&gt;&lt;/a&gt;Настройка яркости каждого монитора отдельно.&lt;/p&gt;
&lt;h2 id=&#34;управление-питанием&#34;&gt;Управление питанием&lt;/h2&gt;
&lt;p&gt;Добавлена возможность изменить поведение приложений, который блокируют переход системы в спящий режим.&lt;/p&gt;
&lt;p&gt;В виджете Управления питанием и батареей появился ползунок для переключения профилей питания.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://pingvinus.ru/cr_images/modelImage/article/5234-pageimgs-p28q7pz7kn.png&#34;&gt;&lt;img alt=&#34;Виджет Управления питанием и батареей.&#34; src=&#34;https://pingvinus.ru/cr_images/modelImage/article/5234-pageimgs-p28q7pz7kn.png&#34;&gt;&lt;/a&gt;Виджет Управления питанием и батареей.&lt;/p&gt;
&lt;h2 id=&#34;приложения-postmarketos-и-другие-улучшения-в-discover&#34;&gt;Приложения PostmarketOS и другие улучшения в Discover&lt;/h2&gt;
&lt;p&gt;В центре приложений Discover теперь представлены приложения для операционной системы Postmarket OS, предназначенной для мобильных устройств.&lt;/p&gt;
&lt;p&gt;Добавлена возможность автоматически выключить компьютер после применения offline-обновлений. Ранее была доступна только перезагрузка.&lt;/p&gt;
&lt;h2 id=&#34;специальные-возможности&#34;&gt;Специальные возможности&lt;/h2&gt;
&lt;p&gt;В настройки Специальных возможностей добавлена возможность «Коррекции цветов при неспособности различать цвета».&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://pingvinus.ru/cr_images/modelImage/article/5234-pageimgs-i3dwsuyp8a.png&#34;&gt;&lt;img alt=&#34;Настройки коррекции цветов.&#34; src=&#34;https://pingvinus.ru/cr_images/modelImage/article/5234-pageimgs-i3dwsuyp8a.png&#34;&gt;&lt;/a&gt;Настройки коррекции цветов.&lt;/p&gt;
&lt;h2 id=&#34;визуальные-улучшения&#34;&gt;Визуальные улучшения&lt;/h2&gt;
&lt;p&gt;Немного обновлены акцентные цвета, улучшена компоновка трея и диалога выбора виджетов. Унифицирован дизайн диалогов и различных всплывающих окон. Улучшен экран приветствия и звуковые эффекты.&lt;/p&gt;
</content>
    </item>
    
  </channel>
</rss>
